<!DOCTYPE html>
<html lang="en">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>GoBike</title>

    <!-- Bootstrap core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom fonts for this template -->
    <link href="vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet" type="text/css">

    <!-- Plugin CSS -->
    <link href="vendor/magnific-popup/magnific-popup.css" rel="stylesheet" type="text/css">

    <!-- Custom styles for this template -->
    <link href="css/freelancer.min.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" 
      href="css/app.css" />

      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"
  type="text/javascript" charset="utf-8"></script>


     <script src="http://js.api.here.com/v3/3.0/mapsjs-core.js"
  type="text/javascript" charset="utf-8"></script>
  <script src="http://js.api.here.com/v3/3.0/mapsjs-service.js"
  type="text/javascript" charset="utf-8"></script>
  <script src="http://js.api.here.com/v3/3.0/mapsjs-core.js" 
     type="text/javascript" charset="utf-8"></script>
  <script src="http://js.api.here.com/v3/3.0/mapsjs-service.js" 
     type="text/javascript" charset="utf-8"></script>
  <script src="http://js.api.here.com/v3/3.0/mapsjs-mapevents.js" 
     type="text/javascript" charset="utf-8"></script>
     <script src="http://js.api.here.com/v3/3.0/mapsjs-ui.js" 
      type="text/javascript" charset="utf-8"></script>
    <script src="https://tcs.ext.here.com/assets/overview-1acb955e659244966003c29e89c8efbeb67d9ebccc2d8236e45a5d894834d3e1.js" 
      type="text/javascript" charset="utf-8"></script>
<script src="https://tcs.ext.here.com/assets/overview-1acb955e659244966003c29e89c8efbeb67d9ebccc2d8236e45a5d894834d3e1.js" 
      type="text/javascript" charset="utf-8"></script>
      <script src="https://js.cit.api.here.com/v3/3.0/mapsjs-data.js"
  type="text/javascript" charset="utf-8"></script>
  <script src="js/aparcabicis.js"
  type="text/javascript" charset="utf-8"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/proj4js/2.4.4/proj4-src.js"
  type="text/javascript" charset="utf-8"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/proj4js/2.4.4/proj4.js"
  type="text/javascript" charset="utf-8"></script>

    <link rel="stylesheet" type="text/css" 
      href="http://js.api.here.com/v3/3.0/mapsjs-ui.css" />
      <link rel="stylesheet" type="text/css" 
      href="https://cdn.jsdelivr.net/npm/intro.js@2.9.3/introjs.css" />
      
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/intro.js/2.9.3/intro.min.js"></script>
    <!--<script type="text/javascript" src="js/mapsjs-ui.js"></script>
    <script type="text/javascript" src="js/mapsjs-mapevents.js"></script>-->
    <script type="text/javascript" src="js/app.js"></script>
  </head>
  <body id="page-top">

    <!-- Navigation -->
    <nav style="position:absolute;" class="navbar navbar-expand-lg bg-secondary fixed-top text-uppercase" id="mainNav">
      <div class="container">
        <a id="esee" class="navbar-brand js-scroll-trigger" href="#page-top">Go Bike</a>
        <button class="navbar-toggler navbar-toggler-right text-uppercase bg-primary text-white rounded" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
          Menu
          <i class="fa fa-bars"></i>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item mx-0 mx-lg-1">
              <a class="nav-link py-3 px-0 px-lg-3 rounded">
                <button onclick="initIntro()" class="btn btn-primary btn-sm" type="button">How To</button>
              </a>
            </li>
             <li class="nav-item mx-0 mx-lg-1">
              <a class="nav-link py-3 px-0 px-lg-3 rounded">
                <img id="imageWidget" src="img/routeWidget.png" alt="routeWidget" height="28" width="28" onclick="openRouteWidget()">
              </a>
            </li>
            <li class="nav-item mx-0 mx-lg-1">
              <a class="nav-link py-3 px-0 px-lg-3 rounded">
                <img id="chartWidget" src="img/chart.png" alt="chartWidget" height="23" width="23" onclick="openChart()">
              </a>
            </li>
            <li class="nav-item mx-0 mx-lg-1">
              <a class="nav-link py-3 px-0 px-lg-3 rounded">
                <img id="geolocationWidget" src="img/location.png" alt="locationWidget" height="30" width="30" onclick="getLocation()">
              </a>
            </li>
            <li class="nav-item mx-0 mx-lg-1">
              <a class="nav-link py-3 px-0 px-lg-3 rounded">
                <img id="legendWidget" src="img/legend.png" alt="legendWidget" height="23" width="23" onclick="openLegendWidget()">
              </a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <section id="sectionA" style="position:absolute; z-index:9999; top:50px;">
    </section>

    <div style="width: 100vw; height: 100vh" id="mapContainer"></div>
    <script>
      var platform = new H.service.Platform({
      'app_id': 'N5QywvuBsK3noMhNq60S',  
      'app_code': 'cOsgrPT2IDNDMye4pWFedw'
      });

      var maptypes = platform.createDefaultLayers();

      var defaultLayers = platform.createDefaultLayers();

      var map = new H.Map(document.getElementById('mapContainer'),
        defaultLayers.normal.map,{
        center: { lng: -0.37739, lat: 39.46975 },
        zoom: 12
      });
          map.setBaseLayer(defaultLayers.terrain.map)

      var behavior = new H.mapevents.Behavior(new H.mapevents.MapEvents(map));

      var ui = H.ui.UI.createDefault(map, defaultLayers);
          ui.addControl('Distance', new H.ui.DistanceMeasurement());
          //ui.addControl('Overview', new H.ui.Overview());

      var zoom = ui.getControl('zoom');
          zoom.setAlignment('left-middle');

      var bubble;

      function openBubble(position, text){
      if(!bubble){
          bubble =  new H.ui.InfoBubble(
            position,
            {content: text});
          ui.addBubble(bubble);
        } else {
          bubble.setPosition(position);
          bubble.setContent(text);
          bubble.open();
        }
      }

      function addManueversToMap(route){
        var svgMarkup = '<svg width="18" height="18" ' +
          'xmlns="http://www.w3.org/2000/svg">' +
          '<circle cx="8" cy="8" r="8" ' +
            'fill="#1b468d" stroke="white" stroke-width="1"  />' +
          '</svg>',
          dotIcon = new H.map.Icon(svgMarkup, {anchor: {x:8, y:8}}),
          group = new  H.map.Group(),
          i,
          j;
  
        for (i = 0;  i < route.leg.length; i += 1) {
          for (j = 0;  j < route.leg[i].maneuver.length; j += 1) {     
            maneuver = route.leg[i].maneuver[j];
            var marker =  new H.map.Marker({
              lat: maneuver.position.latitude,
              lng: maneuver.position.longitude} ,
              {icon: dotIcon});
            marker.instruction = maneuver.instruction;
            group.addObject(marker);
          }
      }

      group.addEventListener('tap', function (evt) {
        map.setCenter(evt.target.getPosition());
        openBubble(
          evt.target.getPosition(), evt.target.instruction);
      }, false);

      // Add the maneuvers group to the map
      map.addObject(group);
    }

    var geocodingParams = {
    searchText: '200 S Mathilda Ave, Sunnyvale, CA'
  };

// Define a callback function to process the geocoding response:
var onResult = function(result) {
  var locations = result.Response.View[0].Result,
    position,
    marker;
  // Add a marker for each location found
  for (i = 0;  i < locations.length; i++) {
  position = {
    lat: locations[i].Location.DisplayPosition.Latitude,
    lng: locations[i].Location.DisplayPosition.Longitude
  };
  marker = new H.map.Marker(position);
  map.addObject(marker);
  }
};

// Get an instance of the geocoding service:
var geocoder = platform.getGeocodingService();

// Call the geocode method with the geocoding parameters,
// the callback and an error callback function (called if a
// communication error occurs):
geocoder.geocode(geocodingParams, onResult, function(e) {
  alert(e);
});

var group = new H.map.Group();
//map.addObject(group);

getJsonData()
setTimeout(function(){ 
map.setZoom(17)
}, 6000);
function getJsonData(){
  setTimeout(function(){ 
    for(i in aparca){
      var utm = "+proj=utm +zone=30";
      var wgs84 = "+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs";
      var coord = proj4(utm,wgs84,[aparca[i].geometry.coordinates[0], aparca[i].geometry.coordinates[1]]);
      
      var svgMarkup = '<svg  width="24" height="24" xmlns="http://www.w3.org/2000/svg">' +
                '<rect stroke="black" fill="${FILL}" x="1" y="1" width="22" height="22" />' +
                '<text x="12" y="18" font-size="12pt" font-family="Arial" font-weight="bold" ' +
                'text-anchor="middle" fill="${STROKE}" >' + aparca[i].properties.plazas + '</text></svg>';

                // Add the first marker
                var bearsIcon = new H.map.Icon(
                  svgMarkup.replace('${FILL}', '#00ff00').replace('${STROKE}', 'white')),
                  bearsMarker = new H.map.Marker({lat: coord[1], lng: coord[0] },
                    {icon: bearsIcon});

                map.addObject(bearsMarker);




        var marker = new H.map.Marker({lat: coord[1], lng: coord[0]})
        
     }
     map.addObject(group);    
    }, 1000);
}

    var legendDiv = document.createElement("div");
          legendDiv.id = "legendDiv_";
          legendDiv.hidden = true;
          legendDiv.className = 'legendDiv';
          legendDiv.innerHTML = '<p id="legendP" class="legendTitle">Legend</p>'
          legendDiv.style.height = '20vh';
          legendDiv.style.width = '20vw';
          legendDiv.style.backgroundColor = "white";
          document.getElementById("sectionA").appendChild(legendDiv);

    var routeDiv = document.createElement("div");
          routeDiv.id = "routeDiv_";
          routeDiv.hidden = true;
          routeDiv.className = 'routeDiv';
          routeDiv.style.height = '63vh';
          routeDiv.style.width = '20vw';
          routeDiv.style.backgroundColor = "white";
          document.getElementById("sectionA").appendChild(routeDiv);

    var chartDiv = document.createElement("div");
          chartDiv.id = "chartDiv_";
          chartDiv.hidden = true;
          chartDiv.className = 'chartDiv';
          chartDiv.innerHTML = '<p id="chartP" class="chartTitle">Chart Statistics</p>'
          chartDiv.style.height = '63vh';
          chartDiv.style.width = '20vw';
          chartDiv.style.backgroundColor = "white";
          document.getElementById("sectionA").appendChild(chartDiv);

    function openLegendWidget(){
        var node = document.getElementById('legendDiv_');
                    node.innerHTML = '';
                    node.hidden = false; 
                    node.insertAdjacentHTML('afterbegin',
                        '<p id="legendP" class="legendTitle">' + 
                        '&nbsp;&nbsp;Legend&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;' + 
                        '<img id="closeIcon" src="img/close.png" height="20" width="20"></p>' + 
                        '<table>' + 
                        '  <tr>' +
                        '    <td>' + 
                        '<svg  width="24" height="24" xmlns="http://www.w3.org/2000/svg">' +
                '<rect stroke="" fill=#00ff00" x="1" y="1" width="22" height="22" />' +
                '<text x="12" y="18" font-size="12pt" font-family="Arial" font-weight="bold" ' +
                'text-anchor="middle" fill="white" >6</text></svg>' + 'Bike Stations and number of bike availables' + 
                        '</td>' + 
                        '</tr>' + 
                        '</table>')
        document.getElementById('closeIcon').onclick = function(){
            node.hidden = true;
        }
    }

    function openChart(){
        var node = document.getElementById('chartDiv_');
                    node.innerHTML = '';
                    node.hidden = false; 
                    node.insertAdjacentHTML('afterbegin',
                        '<p id="chartP" class="chartTitle">' + 
                        '&nbsp;&nbsp;Chart Statistics&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;' + 
                        '<img id="closeIcon3" src="img/close.png" height="20" width="20"></p>' + 
                        '<table>' + 
                        '  <tr>' +
                        '    <td>' + 
                        '</td>' + 
                        '</tr>' + 
                        '</table>')
        document.getElementById('closeIcon3').onclick = function(){
            node.hidden = true;
        }
    }

    function openRouteWidget(){
                var node = document.getElementById('routeDiv_');
                    node.innerHTML = '';
                    node.hidden = false; 
                    node.insertAdjacentHTML('afterbegin',
                        '<p id="routeP" class="routeTitle">' + 
                        '&nbsp;&nbsp;Calculate Route&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;' + 
                        '<img id="closeIcon2" src="img/close.png" height="20" width="20"></p>' + 
                        '<table>' + 
                        '  <tr>' +
                        '    <td>' + 
                            '<div class="input-group">' +
                            '<div class="checkbox">' + 
                              '<div class="radio">' + 
                                '<label><input id="salidaCheck" type="radio" name="optradio">Salida</label>' +
                              '</div>' +
                              '<div class="col-xs-2">' +
                                '<input placeholder="lat - lng" class="form-control" id="salidaId" type="text">' +
                              '</div>' + 
                              '<div class="col-xs-2 nextTo">' +
                                '<input placeholder="Adress" class="form-control" id="salidaGeoc" type="text">' +
                              '</div>' + 
                            '</div>' + 
                          '</div>' +
                        '  </td>' + 
                        '  </tr>' + 
                        '  <tr>' +
                        '    <td>' + 
                        '<hr>' + 
                            '<div class="input-group">' +
                            '<div class="checkbox">' + 
                            '<div class="radio">' + 
                                '<label><input id="llegadaCheck" type="radio" name="optradio">Llegada</label>' +
                              '</div>' +
                              '<div class="col-xs-2 nextTo">' +
                                '<input placeholder="lat - lng" class="form-control" id="llegadaId" type="text">' +
                              '</div>' + 
                              '<div class="col-xs-2 nextTo">' +
                                '<input placeholder="Adress" class="form-control" id="llegadaGeoc" type="text">' +
                              '</div>' + 
                            '</div>' +
                          '</div><br>' +
                        '    </td>' + 
                        '  </tr>' +
                        '  <tr>' + 
                        '    <td>' + 
                              '<button onclick="calculateRoute()" class="btn btn-info" type="button">Calcular</button>' +
                        '    </td>' + 
                        '  </tr>' +
                        '</table>'
                    )
                   
                  document.getElementById('closeIcon2').onclick = function(){
                      node.hidden = true;
                  }

                
                    //reverseGeocoding(mapCenterLat,mapCenterLng);
               
                  /*$('#salidaGeoc').on('input', function(evt){
                      geocode(platform, this.value)
                  });
                  $('#llegadaGeoc').on('input', function(){
                     geocode(platform, this.value)
                  });*/
            }

      function geocode(platform, value) {
        var geocoder = platform.getGeocodingService(),
          parameters = {
            searchtext: value,
            gen: '8'};

        geocoder.geocode(parameters,
          function (result) {
            console.log(result);
          }, function (error) {
            alert(error);
          });
      }
        
    var inputPoint = null
    map.addEventListener('tap', function(evt){   
        var coord = map.screenToGeo(evt.currentPointer.viewportX,
                    evt.currentPointer.viewportY);
        var latPoint = coord.lat.toFixed(4);
        var longPoint = coord.lng.toFixed(4); 
        if($('#salidaCheck').is(':checked')){
          $("#salidaId").val(latPoint + ', ' + longPoint)
          inputPoint = 'salidaCheck'
          reverseGeocoding(latPoint, longPoint)
        } else if($('#llegadaCheck').is(':checked')){
          $("#llegadaId").val(latPoint + ', ' + longPoint)
          inputPoint = 'llegadaCheck'
          reverseGeocoding(latPoint, longPoint)
        } else{
          //Do nothing
        }
      })


    var releaseGeocoderShown = false;

	// Create a group that can hold map objects:
	group = new H.map.Group();

	// Add the group to the map object (created earlier):
	map.addObject(group);

	function reverseGeocoding(mapRGCenLat, mapRGCenLng){
		if(inputPoint = 'salidaCheck'){
      if(parisMarker){
        map.removeObjects(parisMarker);
      }
      var parisMarker = new H.map.Marker({lat:mapRGCenLat, lng:mapRGCenLng});
         map.addObject(parisMarker);
    }else if(inputPoint = 'llegadaCheck'){
      if(parisMarker2){
        map.removeObjects(parisMarker2);
      }
      var parisMarker2 = new H.map.Marker({lat:mapRGCenLat, lng:mapRGCenLng});
        map.addObject(parisMarker2);
    }else{

    }

		if (releaseGeocoderShown== false){
			loadGeocoderVersionTxt();
			releaseGeocoderShown = true;
		}
		var reverseGeocodingParameters = {
			prox: mapRGCenLat+ "," + mapRGCenLng + "," + 500,
			mode: 'retrieveAddresses',
			minResults: 1,
			additionaldata: 'SuppressStreetType,Unnamed',
			gen:8
		};

		// Call the geocode method with the geocoding parameters,
		// the callback and an error callback function (called if a communication error occurs):
		geocoder.reverseGeocode(
			reverseGeocodingParameters,
			onSuccess,
			function(e) {
				alert(e);
			}
		);
	}

	// Define a callback function to process the response:
	function onSuccess(result) {
		var location = result.Response.View[0].Result[0];
		// Display returned location with the address label:
    if(inputPoint === "salidaCheck"){
      document.getElementById("salidaGeoc").value = location.Location.Address.Label;
    }else if(inputPoint === "llegadaCheck"){
      document.getElementById("llegadaGeoc").value = location.Location.Address.Label;
    }else{
      //Dlo nothing
    }
	}

  function loadGeocoderVersionTxt(){
	function createCORSGeocoderRequest(method, url){
		var xhr = new XMLHttpRequest();
		if ("withCredentials" in xhr){
			xhr.open(method, url, true);
		} else if (typeof XDomainRequest != "undefined"){
			xhr = new XDomainRequest();
			xhr.open(method, url);
		} else {
			xhr = null;
		}
		return xhr;
	}

	var requestGeocoder = createCORSGeocoderRequest("get", "https://geocoder.api.here.com/6.2/version.txt");

		if (requestGeocoder){
			requestGeocoder.onload = function() {
				rows4GV = requestGeocoder.responseText.split(/\n/);
				versioNo4GV = rows4GV[0].split(":");
				//alert("Geocoder: " +versioNo4GV[2])
				geocoderVersion = "<br />Geocoder: "+versioNo4GV[2];
				releaseInfoTxt.innerHTML += geocoderVersion;

			};

			requestGeocoder.send();

		}
  }

      var router = platform.getRoutingService()
      var releaseRoutingShown = false;
      function calculateRoute(){
        var salida = document.getElementById("salidaId").value
        var llegada = document.getElementById("llegadaId").value
        var calculateRouteParams = {

          'waypoint0' : salida.substr(0, salida.indexOf(',')) + ',' + salida.slice(-7),
          'waypoint1' : llegada.substr(0, llegada.indexOf(',')) + ',' + llegada.slice(-7),
          'mode': 'fastest;car;traffic:disabled',
          'representation': 'display'
        },
        onResult = function(result) {
          //add Routing Release number if not already done
          if (releaseRoutingShown== false){
          
            releaseRoutingShown = true;
          }
          var strip = new H.geo.Strip(),
          shape = result.response.route[0].shape,
          i,
          l = shape.length;

          for(i = 0; i < l; i++)
          {
            strip.pushLatLngAlt.apply(strip, shape[i].split(',').map(function(item) { return parseFloat(item); }));
          }
          var polyline = new H.map.Polyline(strip,
            {
              style:
              {
                lineWidth: 10,
                strokeColor: "rgba(0, 128, 0, 0.7)"
              }
            });

            map.addObject(polyline);
            map.setViewBounds(polyline.getBounds(), true);
        },
        onError = function(error) {
          console.log(error);
        }
        router.calculateRoute(calculateRouteParams, onResult, onError);
      }




      function getNode(node){
    //Getting ids or classes cleanly
    return document.querySelector(node);
}

function getNode(node){
    return document.querySelector(node);
}

function initIntro(){
  
    introJs().setOptions({
        steps: [{
                intro: "Welcome to GoBike app!"
            },
            {
                element: getNode('.H_ctl.H_zoom.H_grp'),
                intro: "The Scale widget enables end users to know the scale.",
                position: 'top'
            },
            {
                element: getNode('.H_btn'),
                intro: "The Basemap widget enables end users to switch the basemap (several options).",
                position: 'top'
            },
            {
                element: getNode('.H_ctl.H_scalebar'),
                intro: "The Scale widget enables end users to know the scale.",
                position: 'top'
            },
            {
                element: getNode('.H_ctl'),
                intro: "The Measurement widget enables end users to mesure distances.",
                position: 'top'
            },
            {
                element: getNode('#imageWidget'),
                intro: "The Image widget allow to calculate bike routes.",
                position: 'bottom'
            },
            {
                element: getNode('#chartWidget'),
                intro: "The Chart widget shows bike statistics.",
                position: 'bottom'
            },
            {
                element: getNode('#geolocationWidget'),
                intro: "The Geolocation widget shows your current position.",
                position: 'bottom'
            },
            {
                element: getNode('#legendWidget'),
                intro: "The Legend widget shows the availables layers.",
                position: 'bottom'
            }
        ]
    }).start();
    }

    function getLocation() {
      if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition(showPosition);
      } else { 
          alert('Location no available, check your browser')
      }
    }

    function showPosition(position) {
       var html = '<p>Latitude: ' + position.coords.latitude + '</p>' + '<p>Longitude: ' + position.coords.longitude + '</p>'
       var marker = new H.map.Marker({lat:position.coords.latitude, lng:position.coords.longitude})
       map.addObject(marker.setData(html));
       marker.addEventListener('tap', function (evt) {
        var bubble =  new H.ui.InfoBubble(evt.target.getPosition(), {
          content: evt.target.getData()
        });
        ui.addBubble(bubble);
      }, false); 
    }

    </script>
    </div>

    <!-- Scroll to Top Button (Only visible on small and extra-small screen sizes) -->
    <div class="scroll-to-top d-lg-none position-fixed ">
      <a class="js-scroll-trigger d-block text-center text-white rounded" href="#page-top">
        <i class="fa fa-chevron-up"></i>
      </a>
    </div>

    <!-- Bootstrap core JavaScript -->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <!-- Plugin JavaScript -->
    <script src="vendor/jquery-easing/jquery.easing.min.js"></script>
    <script src="vendor/magnific-popup/jquery.magnific-popup.min.js"></script>

    <!-- Contact Form JavaScript -->
    <script src="js/jqBootstrapValidation.js"></script>
    <script src="js/contact_me.js"></script>

    <!-- Custom scripts for this template -->
    <script src="js/freelancer.min.js"></script>

  </body>

</html>
